<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title></title>
  </head>
  <style type="text/css">
    .moc{
    width:0.67rem;
    height:0.67rem;
    position: absolute;
    top:10px;
    right: 10px;
    z-index: 10;
  }
  .open{
    background: url("./static/img/openm.png");
    background-size: cover;
  }
  .close{
    background: url("./static/img/closem.png");
    background-size: cover;
  }
  </style>
  <body>
    <div id="mus" class="moc open"></div>
    <div id="app"></div>
    <!-- built files will be auto injected -->
    <audio id="audio" loop>   
      <source src="http://47.93.38.198:8080/Linki2uCenterTest/files/1.mp3" type="audio/mpeg">
    </audio>
    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script src="./static/js/zepto.js"></script>
    <script type="text/javascript">
    audioAutoPlay('audio');
    function audioAutoPlay(id){
        var audio = document.getElementById(id),
        play = function(){
            audio.play();
            document.removeEventListener("touchstart",play, false);
        };
        audio.play();
        document.addEventListener("WeixinJSBridgeReady", function () {//微信
           play();
        }, false);
        document.addEventListener("touchstart",play, false);
    }

    var $mus = $('#mus');
    $mus.click(function(){
      if ($mus.hasClass('open')) {
        $('#audio').get(0).pause();
        $mus.removeClass('open').addClass('close');
      }else{
        $('#audio').get(0).play();
        $mus.removeClass('close').addClass('open');
      }
    });

</script>
  </body>
</html>
